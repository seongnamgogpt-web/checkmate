# Check Mate — 코드 설명서 (고등학생용)

이 문서는 코딩에 익숙하지 않은 고등학생도 이 프로젝트(Check Mate)가 어떻게 작동하는지 이해할 수 있도록 쉽게 설명합니다. 예시, 그림(텍스트 설명), 단계와 함께 설명합니다.

---

## 1) 프로젝트가 하는 일
- Check Mate는 학생이 작성한 수행평가(과제) 초안이 '요구조건'을 얼마나 잘 충족하는지 자동으로 검사해 주는 웹앱입니다.
- 왼쪽에 요구조건과 제출물(텍스트 또는 파일)을 넣으면, 오른쪽에 "검사 보고서"가 나옵니다.

간단한 비유: 선생님이 숙제를 보고 채점하는 일을 도와주는 컴퓨터 도구입니다.

---

## 2) 이 프로젝트의 중요한 파일들
아래 파일들이 프로젝트의 핵심입니다. 각 파일이 무슨 일을 하는지, 어디를 수정하면 되는지를 쉽게 적어놨어요.

### `app.py` — 웹앱 화면과 사용 흐름
- 역할: 화면(웹페이지)을 만들고, 사용자가 입력한 내용을 받고 결과를 보여줍니다.
- 주요 부분:
  - 페이지 설정: 앱 이름과 아이콘을 정합니다.
  - 왼쪽(입력): 요구조건을 적는 큰 상자(텍스트 박스)와 제출물 업로드/붙여넣기 상자.
  - 오른쪽(출력): AI가 만든 검사 보고서를 보여주는 영역.
  - 버튼("검사 시작"): 사용자가 누르면 검사 과정이 시작됩니다.
- 쉽게 말하면: `app.py`는 앱의 '화면'과 '버튼'을 담당합니다.

### `utils.py` — 뒷단(데이터 처리 + AI 호출)
- 역할: 파일에서 텍스트를 뽑고(A), AI에 질문해서 보고서를 받아오는(B) 일을 합니다.
  - A: 파일에서 텍스트 추출
    - `.txt`, `.docx`, `.pdf` 파일에서 글자를 읽습니다.
    - 이미지 파일(예: 사진)에서 글자를 뽑으려면 OCR(글자 인식) 라이브러리를 사용합니다.
  - B: AI 호출
    - 요구조건과 제출물 텍스트를 하나의 "질문(프롬프트)"으로 만들어서 OpenAI에 보냅니다.
    - OpenAI는 항목별로 만족/부분/미흡을 판단한 보고서를 돌려줍니다.
- 어디를 수정하면 좋을까?
  - AI의 문장 스타일을 바꾸려면 `summarize_match` 함수 안의 문장(프롬프트)을 바꾸세요.
  - 파일 형식을 더 지원하려면 `extract_text_from_uploaded_file`에 코드 조각을 추가하면 됩니다.

### `requirements.txt` — 필요한 프로그램 목록
- 역할: 이 프로젝트를 실행하려면 어떤 Python 패키지가 필요한지 적어둔 목록입니다.
- 사용법: 이 파일을 이용해 한 번에 필요한 것들을 설치할 수 있습니다.
  - 설치 방법 예:
  ```bash
  pip install -r requirements.txt
  ```
- 주요 항목(예시 설명):
  - `streamlit`: 앱을 웹페이지처럼 보여주는 도구
  - `openai`: AI(챗GPT)에 연결하는 도구
  - `python-docx`, `PyPDF2`: docx와 pdf에서 텍스트를 뽑는 도구
  - `easyocr`, `torch`, `numpy`: 이미지에서 글자를 뽑을 때 필요한 도구(선택적)

### `README.md` — 프로젝트 안내문
- 역할: 이 프로젝트를 어떻게 설치하고 실행하는지 적어놓은 설명서입니다. 이미지를 OCR(글자 인식)로 처리하는 방법 같은 주의사항도 적혀 있습니다.

### `.env.example` 및 `.gitignore`
- `.env.example`: 비어있는 예시 파일입니다. 여기에서 `OPENAI_API_KEY`를 설정해 사용하세요.
- `.gitignore`: 깃(Git)에 올리지 않을 파일 목록입니다. 예: 비밀키가 들어 있는 `.env` 파일은 올리지 않기 위해 여기에 적습니다.

---

## 3) 빠르게 실행해보기 (한 줄 요약)
1. 터미널(명령어 창)을 열고 프로젝트 폴더로 이동합니다.
2. 가상환경 만들기 및 활성화:
```bash
python -m venv .venv
source .venv/bin/activate
```
3. 필요한 패키지 설치:
```bash
pip install -r requirements.txt
```
4. (선택) OpenAI 키를 설정합니다(없으면 앱은 모의 응답을 보여줍니다):
```bash
export OPENAI_API_KEY="sk-..."
```
5. 앱 실행:
```bash
streamlit run app.py
```
- 브라우저가 열리고 왼쪽에 요구조건과 결과물 입력란, 오른쪽에 검사 보고서가 보입니다.

---

## 4) 문제(오류)가 생기면 어떻게 하나요?
- 앱이 켜지지 않거나 에러 메시지가 나오면, 터미널에서 보이는 에러(빨간 글)를 복사해서 붙여 주세요.
- `OPENAI_API_KEY` 관련 에러가 나오면 키가 제대로 설정되어 있는지 확인하세요.
- 파일에서 텍스트가 안 읽힌다면 해당 파일 형식을 지원하는 패키지가 설치돼 있는지 확인하세요.

---

## 5) 자주 묻는 질문(FAQ)
Q: API 키는 어디에 넣나요?
- A: 프로젝트 루트에 `.env` 파일을 만들고 `OPENAI_API_KEY=여기에_키값` 형태로 넣거나, 터미널에서 `export OPENAI_API_KEY="키값"`으로 설정하세요.

Q: 이미지를 올리면 자동으로 글자가 들어오나요?
- A: 이 버전에서는 요구조건은 텍스트로만 입력하도록 되어 있습니다. 제출물(학생 작업)은 파일로 업로드하면 텍스트 추출을 시도합니다.

Q: AI가 틀린 답을 줄 때가 있어요. 어떻게 신뢰할 수 있나요?
- A: AI는 사람처럼 가끔 실수합니다. 보고서는 '도움말'로 사용하고, 최종 판단은 교사나 학생 본인이 꼭 확인하세요.

---

## 6) 간단한 용어 설명
- OCR: 이미지 안의 글자를 컴퓨터가 읽어내는 기술입니다.
- 프롬프트: AI에게 주는 질문/명령문입니다. 좋은 프롬프트가 좋은 응답을 만듭니다.
- 가상환경(venv): 프로젝트마다 필요한 프로그램(패키지)을 따로 관리하는 환경입니다.

---

## 7) 더 배우고 싶다면
- Python 기초(변수, 조건문, 함수)를 배우면 `utils.py` 같은 파일을 이해하기 쉬워집니다.
- Streamlit 문서를 보면 앱 화면을 만든 방법을 더 자세히 배울 수 있습니다.

---

원하시면 이 문서를 번역해 프로젝트 루트의 `README.md`로 병합하거나, 이미지와 스크린샷을 추가해 더 쉬운 가이드로 바꿔드릴게요.